<!doctype html>
<html>
<head>
    <title>filters</title>

    <script type="text/javascript" src="lib/jquery.js"></script>
    <script type="text/javascript" src="lib/handlebars.js"></script>
    <script type="text/javascript" src="../build/filters.js"></script>
    <script type="text/javascript" src="../build/demo.js"></script>

    <link type="text/css" rel="stylesheet" href="lib/bootstrap/css/bootstrap.css" />
    <link type="text/css" rel="stylesheet" href="../build/style.css" />
</head>
<body>
    <div class="container">
        <div class="row">
            <div class="span6" id="filters">
                <div id="filter-container"></div>

                <div class="btn btn-primary add-filter" data-template-id="#rule-template" data-target="#filter-container">Add Filter</div>
            </div>
            <div class="span6">
                <table class="table">
                    <thead>
                        <tr>
                            <th>First Name</th>
                            <th>Last Name</th>
                            <th>Age</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Marcus</td>
                            <td>Aurelius</td>
                            <td>23</td>
                        </tr>
                        <tr>
                            <td>Percy</td>
                            <td>Jackson</td>
                            <td>17</td>
                        </tr>
                        <tr>
                            <td>Audrey</td>
                            <td>Hepburn</td>
                            <td>24</td>
                        </tr>
                        <tr>
                            <td>Julius</td>
                            <td>Caesar</td>
                            <td>53</td>
                        </tr>
                        <tr>
                            <td>Michael</td>
                            <td>Vorhees</td>
                            <td>32</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</body>

<script id="rule-template" type="text/x-handlebars-template">
    <div class="rule">
        <select name="event-name">
            {{#each events}}
                <option id="{{ event_name }}" value="{{ event_name }}">{{ event_name }}</option>
            {{/each}}
        </select>
        <select name="field">
            {{#each fields}}
                <option id="{{ field_name }}" value="{{ field_name }}">{{ field_name }}</option>
            {{else}}
                <option value="-1" disabled>Select an event</option>
            {{/each}}
        </select>
        <select name="operation">
            {{#each operations}}
                <option id="{{ name }}" value="{{ name }}">{{ display }}</option>
            {{/each}}
        </select>
        <input type="text" name="value" placeholder="Enter a value..." />
    </div>
</script>

<!-- Just testing some stuff here -->
<script type="text/javascript">
$(document).ready(function() {
    var context = {
        'events': [
            {
                'event_name': 'SaleEvent'
            }
        ], 'fields': [
            {
                'field_name': 'Amount'
            },
            {
                'field_name': 'Price'
            }
        ], 'operations': [
            {
                'name': 'eq',
                'display': 'equals',
                'operation': '=='
            },
            {
                'name': 'dneq',
                'display': 'does not equal',
                'operation': '!='
            },
        ]
    }

    // var source = $('#rule-template').html();
    // var template = Handlebars.compile(source);
    // var html = template(context);
    // $('#filters').html(html);
});
</script>

</html>
